---
import Container from '../ui/Container.astro';

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<section class="trust-section">
  <Container>
     <div class="trust-wrapper">
         <div class="metrics-row">
             <div class="metric-item">
                 <div class="metric-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg>
                 </div>
                 <div class="metric-text">
                    <span class="metric-value">10+</span>
                    <span class="metric-label">AÃ±os</span>
                 </div>
             </div>
             <div class="separator"></div>
             <div class="metric-item">
                 <div class="metric-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                 </div>
                 <div class="metric-text">
                    <span class="metric-value">50+</span>
                    <span class="metric-label">Clientes</span>
                 </div>
             </div>
             <div class="separator"></div>
             <div class="metric-item">
                 <div class="metric-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                 </div>
                 <div class="metric-text">
                    <span class="metric-value">99.9%</span>
                    <span class="metric-label">Uptime</span>
                 </div>
             </div>
         </div>

         <div class="logos-scroll">
             <div class="marquee-track">
                 {/* First Set of Logos */}
                 <div class="logo-group">
                     <div class="client-logo">
                        <img src="/images/clients/coca-cola.png" alt="Coca-Cola" />
                     </div>
                     <div class="client-logo">
                        <img src="/images/clients/disney.svg" alt="Disney+" />
                     </div>
                     <div class="client-logo">
                        <img src="/images/clients/amazon.png" alt="Amazon" />
                     </div>
                 </div>
                 {/* Duplicate Set for Infinite Loop */}
                 <div class="logo-group" aria-hidden="true">
                     <div class="client-logo">
                        <img src="/images/clients/coca-cola.png" alt="Coca-Cola" />
                     </div>
                     <div class="client-logo">
                        <img src="/images/clients/disney.svg" alt="Disney+" />
                     </div>
                     <div class="client-logo">
                        <img src="/images/clients/amazon.png" alt="Amazon" />
                     </div>
                 </div>
             </div>
         </div>
     </div>
  </Container>
</section>

<style>
    /* Robust Grid Layout for Stability */
    .trust-section {
        padding: var(--space-12) 0;
        background-color: var(--surface);
        border-bottom: 1px solid var(--border);
    }
    
    .trust-wrapper {
        display: flex;
        flex-direction: column;
        gap: var(--space-12);
    }

    /* Metrics Grid */
    .metrics-row {
        display: grid;
        grid-template-columns: repeat(1, 1fr);
        gap: var(--space-8);
        width: 100%;
    }
    
    @media (min-width: 640px) {
        .metrics-row {
            grid-template-columns: repeat(3, 1fr);
            justify-items: center; /* Center items in their grid cells */
        }
    }
    
    /* Remove separator lines they were causing layout issues, use grid gap instead */
    .separator { display: none; }
    
    .metric-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: var(--space-3);
    }

    .metric-icon {
        color: var(--primary);
        background: var(--primary-soft);
        padding: 12px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: var(--space-2);
    }
    
    .metric-text {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .metric-value {
        font-family: var(--font-heading);
        font-size: var(--text-3xl); /* Slightly smaller than 4xl for safety */
        font-weight: 800;
        color: var(--text);
        line-height: 1.2;
    }
    
    .metric-label {
        font-size: var(--text-sm);
        color: var(--text-muted);
        text-transform: uppercase;
        font-weight: 600;
        letter-spacing: 0.05em;
    }

    /* Infinite Marquee Styles */
    .logos-scroll {
        position: relative;
        width: 100%;
        padding-top: var(--space-8);
        border-top: 1px solid var(--border);
        overflow: hidden;
        mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
    }

    .marquee-track {
        display: flex;
        flex-direction: row; /* FORCE HORIZONTAL */
        flex-wrap: nowrap;   /* PREVENT WRAPPING */
        gap: var(--space-12);
        width: max-content;
        min-width: 100%;
        animation: scroll-seamless 40s linear infinite;
    }

    .marquee-track:hover {
        animation-play-state: paused;
    }

    .logo-group {
        display: flex;
        flex-direction: row; /* FORCE HORIZONTAL */
        flex-wrap: nowrap;   /* PREVENT WRAPPING */
        gap: var(--space-12);
        align-items: center;
    }

    @keyframes scroll-seamless {
        from { transform: translateX(0); }
        to { transform: translateX(-50%); } 
    }
    
    .client-logo {
        height: 60px;
        min-width: 140px;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0.5;
        transition: all 0.3s ease;
        filter: grayscale(100%);
        background: var(--surface-2);
        border-radius: var(--radius-md);
        padding: 0 var(--space-6);
        flex-shrink: 0; /* PREVENT SHRINKING */
    }
    
    .client-logo:hover {
        opacity: 1;
        filter: none;
        background: var(--surface-3);
    }
    
    .client-logo img {
        max-height: 40px;
        max-width: 120px;
        width: auto;
        height: auto;
        object-fit: contain;
    }

    .logo-text {
        font-family: var(--font-heading);
        font-weight: 700;
        font-size: var(--text-lg);
        color: var(--text-subtle);
        white-space: nowrap;
    }
</style>
